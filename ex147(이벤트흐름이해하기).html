<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>이벤트 플로우 예제</title>
        <style>
            .box{
                position:relative;
                display:inline-block;
                width:600px;
                height:300px;
                background-color: bisque;
            }
            .box2{
                position:relative;
                width:300px;
                height:150px;
                background-color:white;
                text-align:center;
                margin: 10% auto;

            }
        </style>
    </head>
    <body>
        <h1>DOM 이벤트 플로우</h1>
        <div id="element1" class="box">
            <div id="element2" class="box2">버블링</div>
        </div>
        <div id="element3" class="box">
            <div id="element4" class="box2">캡처링</div>
        </div>
        <script>
            const element1 = document.getElementById('element1')
            const element2 = document.getElementById('element2')

            const element3 = document.getElementById('element3')
            const element4 = document.getElementById('element4')
            
            /*
            이벤트의 흐름은 3단계로 구성
            1단계 캡처링 단계 / 타겟 객체까지 이벤트가 내려옴
            2단계 타겟팅 단계 / 이벤트리스너를 호출하는 타겟팅 단계에 진입
            3단계 버블링 단계 / 최상위 노드로 올라감

            addEventListener 메소드에는 마지막 인자로 캡처링 단계의 호출여부를 불린값으로 전달할 수 있음
            */
            
            element1.addEventListener('click',e => console.log('요소1 클릭'))
            element2.addEventListener('click',e => console.log('요소2 클릭')) // 클릭시 요소2 -> 요소 1 순으로 나옴 버블링 단계별 출력
            

            element3.addEventListener('click',e => console.log('요소3 클릭'), true) // 캡쳐링 단계에서 실행
            element4.addEventListener('click',e => console.log('요소4 클릭')) // 클릭시 요소 3 출력 후 요소 4 출력 됨
        </script>
    </body>
</html>